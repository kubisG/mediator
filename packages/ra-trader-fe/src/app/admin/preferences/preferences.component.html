<mat-card class="detail-card">
    <mat-card-header color="primary">
        <mat-card-title>
            <button class="mat-icon-button" matTooltip="New preference" mat-icon-button (click)="newPreference()">
                <mat-icon>control_point</mat-icon>
            </button>
            {{ 'admin.preferences' | translate }}
        </mat-card-title>
        <span class="fill-remaining-space"></span>
        <button matTooltip="{{'butt.save.layout' | translate}}" mat-icon-button (click)="saveState()">
            <mat-icon aria-label="Save">send</mat-icon>
        </button>
        <button matTooltip="{{'prefs.message-filter-reload' | translate}}" mat-icon-button (click)="reloadMessageFilter()">
            <mat-icon aria-label="Save">cached</mat-icon>
        </button>
        <button mat-icon-button (click)="collapsed=!collapsed">
            <mat-icon *ngIf="!collapsed" mat-tooltip="Collapse">keyboard_arrow_down</mat-icon>
            <mat-icon *ngIf="collapsed" mat-tooltip="Uncollapse">keyboard_arrow_right</mat-icon>
        </button>
    </mat-card-header>

    <mat-card-content *ngIf="!collapsed && columns">
            <ra-data-grid id="gridContainer" [initColumns]="columns" (initialized)="onInitialized($event)"
              [gridKey]="'id'" [actions]="actions"
              (buttonClick)="rowActionClick($event)">
            </ra-data-grid>

        <!-- <dx-data-grid id="preferencesGrid" (onInitialized)="onInitialized($event)"
            [dataSource]="dataSourceControl.dataSource" [wordWrapEnabled]="false" [showBorders]="true"
            [allowColumnReordering]="true" [rowAlternationEnabled]="true" [height]="600" [repaintChangesOnly]="true">
            <dxo-column-chooser [enabled]="true" mode="select"> </dxo-column-chooser>
            <dxo-header-filter [visible]="true"></dxo-header-filter>
            <dxi-column caption="Actions" width="95" [allowFiltering]="false" [allowSorting]="false"
                [showInColumnChooser]="false" dataField="id" cellTemplate="actionsCellTemplate"></dxi-column>
            <dxi-column dataField="companyId" caption="Company">
                <dxo-lookup [dataSource]="comapanies" valueExpr="id" displayExpr="companyName">
                </dxo-lookup>
            </dxi-column>
            <dxi-column dataField="createDate" caption="Created"></dxi-column>
            <dxi-column dataField="name" caption="Name"></dxi-column>
            <dxi-column dataField="userId" caption="User">
                <dxo-lookup [dataSource]="users" valueExpr="id" displayExpr="email">
                </dxo-lookup>
            </dxi-column>
            <dxi-column dataField="value" caption="value"></dxi-column>
            <dxo-pager [showPageSizeSelector]="false"></dxo-pager>
            <span *dxTemplate="let d of 'actionsCellTemplate'">
                <button matTooltip="Edit preference" mat-icon-button (click)="editPreference(d.data)">
                    <mat-icon>edit</mat-icon>
                </button>
                <button *ngIf="d.data.companyId !== 0 && d.data.userId !== 0" matTooltip="Delete preference"
                    mat-icon-button (click)="deletePreference(d.data)">
                    <mat-icon>delete</mat-icon>
                </button>
            </span>
        </dx-data-grid> -->
    </mat-card-content>
</mat-card>
