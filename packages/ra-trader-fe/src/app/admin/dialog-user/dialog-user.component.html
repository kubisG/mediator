<mat-toolbar raDraggable color="primary">{{ 'user.detail' | translate }}</mat-toolbar>
<div mat-dialog-content>
    <div class="row">
        <div class="col-md-6">
            <mat-form-field>
                <input name="username" matInput required placeholder="Username" [(ngModel)]="data.username" #username="ngModel">
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field>
                <input name="email" matInput required email placeholder="Email" [(ngModel)]="data.email" #email="ngModel">
            </mat-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <mat-form-field>
                <input name="password" type="password" required matInput placeholder="Password" [(ngModel)]="data.password"
                    #password="ngModel">
            </mat-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <mat-form-field>
                <input name="lastName" matInput placeholder="Last Name" [(ngModel)]="data.lastName">
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field>
                <input name="firstName" matInput placeholder="First Name" [(ngModel)]="data.firstName">
            </mat-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <mat-form-field>
                <input name="deskPhone" matInput placeholder="Desk Phone" [(ngModel)]="data.deskPhone">
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field>
                <input name="mobile" matInput placeholder="Mobile" [(ngModel)]="data.mobile">
            </mat-form-field>
        </div>
    </div>
    <div *ngIf="data.app !== 2">
        <div class="row" *ngFor="let curr of lists['Currency']">
            <div class="col-md-6">
                <mat-form-field>
                    <input name="openBalance" type="text" matInput placeholder="Opening Balance {{ curr.value }}"
                        (ngModelChange)="balanceChange($event,curr.value)" [(ngModel)]="newBalance[curr.value]" mask="comma_separator.4">
                </mat-form-field>
            </div>
            <div class="col-md-6">
                <mat-form-field>
                    <input name="currentBalance" type="text" matInput placeholder="Current Balance {{ curr.value }}"
                        disabled [value]="balances[curr.value]" mask="comma_separator.4">
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <mat-form-field>
                <mat-select name="companyId" placeholder="Company" required [(ngModel)]="data.company.id" #companyId="ngModel">
                    <mat-option *ngFor="let company of companies" [value]="company.id">
                        {{company.companyName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field>
                <mat-select name="class" placeholder="User Type" required [(ngModel)]="data.class" #userType="ngModel">
                    <mat-option *ngFor="let class of userClasses" [value]="class">
                        {{class}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
    <div *ngIf="app === 0" class="row">
        <div class="col-md-6">
            <mat-select name="app" placeholder="Application" required [(ngModel)]="data.app" #userType="ngModel">
                <mat-option *ngFor="let app of apps" [value]="app.id">
                    {{app.label}}
                </mat-option>
            </mat-select>
        </div>
        <div class="col-md-6">

        </div>
    </div>
</div>
<div mat-dialog-actions>
    <button mat-raised-button (click)="onNoClick()">Cancel</button>
    <button mat-raised-button [disabled]="companyId.invalid || email.invalid || email.hasError('email') || username.invalid"
        (click)="onOkClick()" cdkFocusInitial>Ok</button>
</div>
