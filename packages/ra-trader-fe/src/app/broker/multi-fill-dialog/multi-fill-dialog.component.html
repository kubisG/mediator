<mat-toolbar raDraggable class="back-blue">
    {{'reject.dialog.multifill' | translate }}
</mat-toolbar>
<div mat-dialog-content>
    <div class="holder" *ngIf="columns">
        <ra-data-grid id="multiFill" [initColumns]="columns" (initialized)="onInitialized($event)"
            (rowSelected)="rowClickEvent($event)" [gridKey]="'RaID'"></ra-data-grid>
    </div>

    <!-- 
        <dx-data-grid id="multiFill" [dataSource]="dataSrc" [wordWrapEnabled]="false" [showBorders]="true"
            [allowColumnResizing]="true" [allowColumnReordering]="true" [rowAlternationEnabled]="true" (onInitialized)="loadState($event)"
            (onRowClick)="rowClickEvent($event)" (onRowPrepared)="onRowPrepared($event)" (onToolbarPreparing)="onToolbarPreparing($event)"
            (onRowValidating)="rowValidating($event)" (onEditingStart)="onEditingStart($event)">
            <dxo-header-filter [visible]="true"></dxo-header-filter>
            <dxo-editing mode="batch" [allowUpdating]="true"></dxo-editing>
            <dxi-column dataField="Side" caption="Side" [allowEditing]="false">
                <dxo-lookup [dataSource]="lists['Side']" valueExpr="value" displayExpr="name"></dxo-lookup>                    
            </dxi-column>
            <dxi-column dataField="Symbol" caption="Symbol" [allowEditing]="false">
                <dxo-lookup [dataSource]="lists['Symbol']" valueExpr="value" displayExpr="name"></dxo-lookup>            
            </dxi-column>
            <dxi-column dataField="OrdType" caption="Order Type" [allowEditing]="false">
                <dxo-lookup [dataSource]="lists['OrdType']" valueExpr="value" displayExpr="name"></dxo-lookup>                
            </dxi-column>
            <dxi-column dataField="TimeInForce" caption="Time In Force" [allowEditing]="false">
                <dxo-lookup [dataSource]="lists['TimeInForce']" valueExpr="value" displayExpr="name"></dxo-lookup>                  
            </dxi-column>
            <dxi-column dataField="OrderQty" dataType="number" caption="Order Qty" [allowEditing]="false"></dxi-column>
            <dxi-column dataField="CumQty" dataType="number" caption="Filled Qty" [allowEditing]="false"></dxi-column>
            <dxi-column dataField="LeavesQty" dataType="number" caption="Leaves Qty" [allowEditing]="false">
            </dxi-column>
            <dxi-column dataField="qtyForFill" dataType="number" caption="Fill Qty" [allowEditing]="canFill" [cssClass]="canFill ? 'editable-td' : ''">
                <dxi-validation-rule type="custom" [validationCallback]="validateFillQty" message="Invalid FillQty">
                </dxi-validation-rule>
            </dxi-column>
            <dxi-column dataField="AvgPx" dataType="number" caption="Avg Px" [allowEditing]="false">
                <dxo-format type="fixedPoint" [precision]="env.precision">
                </dxo-format>
            </dxi-column>
            <dxi-column dataField="LastPx" dataType="number" caption="Last Px" [allowEditing]="false">
                <dxo-format type="fixedPoint" [precision]="env.precision">
                </dxo-format>
            </dxi-column>
            <dxi-column dataField="Price" dataType="number" caption="Price" [allowEditing]="false">
                <dxo-format type="fixedPoint" [precision]="env.precision">
                </dxo-format>
            </dxi-column>
            <dxi-column dataField="pxForFill" dataType="number" caption="Fill Px" [allowEditing]="canFill" [cssClass]="canFill ? 'editable-td' : ''">
                <dxi-validation-rule type="custom" [validationCallback]="validateFillPx" message="Invalid FillPx">
                </dxi-validation-rule>
                <dxi-validation-rule type="custom" [validationCallback]="validateFillPxDistance" message="> 5% off last fill Px">
                </dxi-validation-rule>
                <dxi-validation-rule type="custom" [validationCallback]="validateFillPxSide" message="Wrong side of limit">
                </dxi-validation-rule>
            </dxi-column>
            <dxi-column dataField="LastMkt" caption="Last Mkt" [allowEditing]="canFill" [cssClass]="canFill ? 'editable-td' : ''"></dxi-column>
            <dxi-column dataField="LastCap" [allowEditing]="canFill" [cssClass]="canFill ? 'editable-td' : ''">
                <dxo-lookup [dataSource]="lists['LastCapacity']" valueExpr="value" displayExpr="name"></dxo-lookup>
            </dxi-column>
            <dxi-column dataField="LastLiq" [allowEditing]="canFill" [cssClass]="canFill ? 'editable-td' : ''">
                <dxo-lookup [dataSource]="lists['LastLiquidityInd']" valueExpr="value" displayExpr="name"></dxo-lookup>
            </dxi-column>
            <dxi-column dataField="CommType" [allowEditing]="canDFD" [cssClass]="canDFD ? 'editable-td' : ''">
                <dxo-lookup [dataSource]="lists['CommType']" valueExpr="value" displayExpr="name"></dxo-lookup>
            </dxi-column>
            <dxi-column dataField="Commision" dataType="number" caption="Commision" [allowEditing]="canDFD" [cssClass]="canDFD ? 'editable-td' : ''"></dxi-column>
            <dxi-column dataField="OrdStatus" caption="Status" [allowEditing]="false"></dxi-column>
            <dxo-pager [showPageSizeSelector]="false"></dxo-pager>
            <dxo-scrolling mode="virtual" showScrollbar="always"></dxo-scrolling>
            <dxo-remote-operations [sorting]="true" [paging]="true" [filtering]="true">
            </dxo-remote-operations>
        </dx-data-grid> -->
</div>
<div mat-dialog-actions>
    <button mat-flat-button matTooltip="Close" color="warn" (click)="closeDialog()">
        <mat-icon>cancel</mat-icon>
    </button>
    <span class="fill-remaining-space"></span>
    <!-- <button *ngIf="canDFD" matTooltip="{{'commission.details.dfd'|translate}}" mat-flat-button color="primary"
        (click)="sendDfd()">
        <mat-icon>done</mat-icon>
    </button> -->
    <span class="button-separator"></span>
    <span class="confirm">
        <mat-checkbox  [(ngModel)]="overWrite">Accept warning</mat-checkbox>
    </span>
    <button *ngIf="canFill" mat-flat-button matTooltip="{{'fill.report.send'|translate}}" color="primary"
        (click)="sendFills()" [disabled]="disabled">
        <mat-icon>send</mat-icon>
    </button>
</div>
